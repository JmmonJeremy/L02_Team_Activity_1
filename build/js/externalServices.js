var c=(s,e,t)=>new Promise((n,r)=>{var d=o=>{try{i(t.next(o))}catch(u){r(u)}},l=o=>{try{i(t.throw(o))}catch(u){r(u)}},i=o=>o.done?n(o.value):Promise.resolve(o.value).then(d,l);i((t=t.apply(s,e)).next())});const a="https://cors-anywhere.herokuapp.com/http://157.201.228.93:2992/";function h(s){const e=s.json();if(s.ok)return e;throw{name:"servicesError",message:e}}export default class p{constructor(){}getData(e){let t=fetch(a+`products/search/${e}`).then(h).then(n=>(t=n.Result,t.forEach(r=>{r.Count=0,r.InCart=!1}),t));return t}findProductById(e){return c(this,null,function*(){let t=fetch(a+`product/${e}`).then(h).then(n=>(t=n.Result,t.Count=0,t.InCart=!1,t));return t})}checkout(e){return c(this,null,function*(){const t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)};return yield fetch(a+"checkout/",t).then(h)})}loginRequest(e){return c(this,null,function*(){const t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)},n=yield fetch(a+"login",t).then(h);return n.accessToken})}getOrders(e){return c(this,null,function*(){const t={method:"GET",headers:{Authorization:`Bearer ${e}`}};let n=yield fetch(a+"orders",t).then(h);return n})}}
